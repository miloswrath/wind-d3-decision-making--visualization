:root { --bg:#0b1020; --fg:#e8eefc; --muted:#9db0d9; --card:#141c35; --accent:#2f64b7; }
*{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--fg);font:14px/1.4 system-ui,Segoe UI,Roboto,sans-serif}
.topnav{display:flex;gap:.75rem;padding:.75rem 1rem;background:#0f1730;border-bottom:1px solid #1e2a4a;position:sticky;top:0}
.topnav a{color:var(--fg);text-decoration:none;padding:.25rem .5rem;border-radius:.5rem}
.topnav a:hover{background:#1a2546}
.app{padding:1rem;max-width:1200px;margin:0 auto}
.card{background:var(--card);border:1px solid #1e2a4a;border-radius:12px;padding:1rem}
.h1{font-size:1.6rem;margin:0 0 .5rem}

/* Added for interactivity */
g.factor:hover, g.option:hover { cursor: grab; }
g.factor:active, g.option:active { cursor: grabbing; }
rect[fill="transparent"]:hover { fill: var(--accent); opacity: 0.2; }
.table { width: 100%; border-collapse: collapse; }
.table th,
.table td { border: 1px solid rgba(232,238,252,0.12); padding: .5rem; text-align: left; }
.table thead th { background: rgba(29, 45, 83, 0.95); font-weight: 600; }
.table tbody tr:nth-child(odd) { background: rgba(20, 32, 61, 0.60); }
.table tbody tr:nth-child(even) { background: rgba(20, 32, 61, 0.00); }
.table .table-importance { text-align: right; font-variant-numeric: tabular-nums; }
.table .table-wadd th,
.table .table-wadd td {
  border-top: 2px solid var(--accent);
  border-bottom: 2px solid var(--accent);
  font-weight: 600;
}
.decision-action { margin-top: 16px; display: flex; justify-content: flex-start; }
.decision-btn { background: var(--accent); color: var(--fg); border: none; border-radius: 8px; padding: 0.55rem 1.1rem; font-weight: 600; cursor: pointer; box-shadow: 0 6px 16px rgba(47,100,183,0.25); transition: transform 0.15s ease, box-shadow 0.15s ease; }
.decision-btn:hover { transform: translateY(-1px); box-shadow: 0 10px 22px rgba(47,100,183,0.35); }
.modal-overlay { position: fixed; inset: 0; background: rgba(4, 8, 20, 0.75); display: flex; align-items: center; justify-content: center; z-index: 999; backdrop-filter: blur(2px); transition: background 0.25s ease, backdrop-filter 0.25s ease; }
.modal-overlay--clear { background: rgba(4, 8, 20, 0); backdrop-filter: blur(0px); }
.modal { background: var(--card); border: 1px solid #1e2a4a; border-radius: 12px; padding: 1.25rem; width: min(420px, 92vw); box-shadow: 0 18px 50px rgba(0, 0, 0, 0.45); transform-origin: center; }
.modal h4 { margin: 0 0 .5rem; font-size: 1.1rem; color: var(--fg); }
.modal p { margin: 0 0 .75rem; color: var(--muted); line-height: 1.5; }
.modal-actions { margin-top: 1rem; display: flex; gap: .5rem; justify-content: flex-end; }
.modal-btn { background: var(--accent); color: var(--fg); border: none; border-radius: 6px; padding: 0.45rem 0.9rem; font-weight: 600; cursor: pointer; }
.modal-btn--secondary { background: transparent; border: 1px solid rgba(232,238,252,0.25); color: var(--fg); }
.decision-option-list { display: flex; flex-direction: column; gap: .5rem; margin-top: .5rem; }
.decision-option-button { background: rgba(26, 37, 70, 0.85); border: 1px solid rgba(232,238,252,0.12); color: var(--fg); border-radius: 8px; padding: 0.65rem 0.9rem; text-align: left; font-weight: 600; cursor: pointer; }
.decision-option-button:hover { background: rgba(47, 100, 183, 0.65); border-color: rgba(47, 100, 183, 0.9); }
.modal--slide-out { animation: modalSlideOut 0.32s cubic-bezier(0.34, 0.74, 0.26, 1) forwards; }
.modal--slide-in { animation: modalSlideIn 0.34s cubic-bezier(0.16, 0.84, 0.44, 1) forwards; }
@keyframes modalSlideOut {
  0% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(160px, 220px) scale(0.74); opacity: 0; }
}
@keyframes modalSlideIn {
  0% { transform: translate(150px, 220px) scale(0.7); opacity: 0; }
  45% { transform: translate(-12px, -18px) scale(1.05); opacity: 1; }
  100% { transform: translate(0, 0) scale(1); opacity: 1; }
}
.modal-peek-button { position: fixed; bottom: 18px; right: 18px; background: var(--accent); color: var(--fg); border: none; border-radius: 999px; width: 52px; height: 52px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 1.05rem; cursor: pointer; box-shadow: 0 12px 24px rgba(47, 100, 183, 0.4); animation: modalPeekBounce 0.8s ease-out; z-index: 1000; }
.modal-peek-button:hover { transform: translateY(-2px); box-shadow: 0 16px 26px rgba(47, 100, 183, 0.45); }
@keyframes modalPeekBounce {
  0% { transform: translate(0, 50px) scale(0.6); opacity: 0; }
  60% { transform: translate(0, -8px) scale(1.05); opacity: 1; }
  85% { transform: translate(0, 3px) scale(0.97); }
  100% { transform: translate(0, 0) scale(1); }
}
